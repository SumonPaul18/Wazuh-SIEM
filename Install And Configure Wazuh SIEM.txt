+++++++++++++++++++++++++++++++++++++++++
+ Install And Configure Wazuh on Centos +
+++++++++++++++++++++++++++++++++++++++++

Wazuh is a free and open source security platform that unifies XDR and SIEM capabilities. It protects workloads across on-premises, virtualized, containerized, and cloud-based environments.

Wazuh helps organizations and individuals to protect their data assets against security threats. It is widely used by thousands of organizations worldwide, from small businesses to large enterprises.

#Components:

The Wazuh solution is based on three central components and a agent:

1. Wazuh server: The Wazuh server analyzes data received from the agents. It processes it through decoders and rules, using threat intelligence to look for well-known indicators of compromise (IOCs).

2. Wazuh indexer: The Wazuh indexer is a highly scalable, full-text search and analytics engine. This central component indexes and stores alerts generated by the Wazuh server.

3. Wazuh dashboard: The Wazuh dashboard is the web user interface for data visualization and analysis.

4. Wazuh agent: Wazuh agents are installed on endpoints such as laptops, desktops, servers, cloud instances, or virtual machines. 

#Installation Wazuh:
#We can install wazuh using various ways there are:

1. Wazuh installation using Quickstart:

#Download and run the Wazuh installation assistant.

curl -sO https://packages.wazuh.com/4.7/wazuh-install.sh && sudo bash ./wazuh-install.sh -a

#Once the assistant finishes the installation, the output shows the access credentials and a message that confirms that the installation was successful.

INFO: --- Summary ---
INFO: You can access the web interface https://<wazuh-dashboard-ip>
    User: admin
    Password: <ADMIN_PASSWORD>
INFO: Installation finished.


#Note: You can find the passwords for all the Wazuh indexer and Wazuh API users in the wazuh-passwords.txt file inside wazuh-install-files.tar. To print them, run the following command:

sudo tar -O -xvf wazuh-install-files.tar wazuh-install-files/wazuh-passwords.txt

#If you want to uninstall the Wazuh central components, run the Wazuh installation assistant using the option -u or -uninstall.

#Installing the Wazuh central components:

1. Installing the Wazuh indexer step by step:
https://documentation.wazuh.com/current/installation-guide/wazuh-indexer/step-by-step.html

2. Installing the Wazuh server step by step
https://documentation.wazuh.com/current/installation-guide/wazuh-server/step-by-step.html

3. Installing the Wazuh dashboard step by step:
https://documentation.wazuh.com/current/installation-guide/wazuh-dashboard/step-by-step.html

4. Installing Wazuh agent:
https://documentation.wazuh.com/current/installation-guide/wazuh-agent/index.html




+++++++++++++++++++++++++++++++++++++++++++
+ How to Agent Management on Wazuh Server +
+++++++++++++++++++++++++++++++++++++++++++

#User Manual:
Refference:
1. https://documentation.wazuh.com/current/user-manual/index.html

#Manage agents using the CLI:

/var/ossec/bin/manage_agents

#Show agent list:
#To show the agent list simply run the following command with (-l) for list parameter. 

/var/ossec/bin/manage_agents -l

#Removing agents by CLI:
#To remove the agent simply run the following command with the example id of 002.

/var/ossec/bin/manage_agents -r 002

#Removing agents by API
#In the Wazuh dashboard, you can Navigate to “>_ Tools” and then Click on “API Console”
#Removing a single agent:
#The following example can be used to delete sample agent id 004

DELETE agents?pretty=true&older_than=0s&agents_list=004&status=all

#Removing multiple agents:
#The following example can be used to delete sample agent id’s 004 to 006

DELETE agents?pretty=true&older_than=0s&agents_list=004,005,006&status=all

#Removing disconnected agents:

DELETE agents?pretty=true&older_than=21d&agents_list=all&status=never_connected,disconnected


#Password management
Refference:
1. https://documentation.wazuh.com/current/user-manual/user-administration/password-management.html

#Changing the password for single user
#Run the script with the -u option and indicate the new password with the option -p.

#Download a shell script:

curl -so wazuh-passwords-tool.sh https://packages.wazuh.com/4.7/wazuh-passwords-tool.sh

#Run The shell script using -u,-p parameter:

bash wazuh-passwords-tool.sh -u admin -p WazuhAdmin@312*

#Restart the Wazuh dashboard to apply the changes.

systemctl restart wazuh-dashboard
systemctl restart wazuh-indexer
systemctl restart wazuh-manager
